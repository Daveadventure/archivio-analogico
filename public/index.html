<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Archivio Analogico</title>
  <link rel="icon" href="/favicon.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Source+Sans+3:wght@400;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/style.css?v=9" />
</head>

<body>
  <header class="hero">
    <div class="masthead">
      <div class="logo">
        <div class="mark" aria-hidden="true"></div>
        <div class="wording">
          <div class="brand">Archivio Analogico</div>
          <div class="subtitle">collezione vinili di DAVE1971 (Discogs)</div>
        </div>
      </div>

      <div class="controls">
        <input id="search" type="text" placeholder="Cerca artista o titolo…" autocomplete="off" />
        <input id="yearFrom" type="number" inputmode="numeric" placeholder="Anno da" min="1900" max="2100" />
        <input id="yearTo" type="number" inputmode="numeric" placeholder="Anno a" min="1900" max="2100" />
        <label class="toggle">
          <input id="onlyFavs" type="checkbox" />
          <span>Solo preferiti ⭐</span>
        </label>
    
        <select id="genre"><option value="">Tutti i generi</option></select>
        <select id="style"><option value="">Tutti gli stili</option></select>
        <select id="decade"><option value="">Tutti i decenni</option></select>
        <select id="label"><option value="">Tutte le etichette</option></select>
        <select id="format"><option value="">Tutti i formati</option></select>
        <select id="sort">
          
          <option value="added">Ordina: aggiunti (default)</option>
          <option value="fav_first">Ordina: preferiti ⭐ prima</option>
          <option value="artist">Ordina: artista</option>
          <option value="title">Ordina: titolo</option>
          <option value="year_desc">Ordina: anno ↓</option>
          <option value="year_asc">Ordina: anno ↑</option>
        </select>
        <select id="view">
          <option value="grid">Vista: griglia</option>
          <option value="list">Vista: lista</option>
        </select>
      </div>

      <div class="meta">
        <span id="count">—</span>
        <span class="dot">•</span>
        <span class="hint">Clicca una copertina per i dettagli</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div id="loader" class="loader">Caricamento collezione…</div>
<div id="debug" style="white-space:pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size:12px; opacity:.9; margin:10px 0; padding:10px; border-radius:12px; background:rgba(0,0,0,.08);"></div>
    <div id="grid" class="grid"></div>

    <div class="loadmore">
      <button id="more" class="more hidden">Carica altri</button>
    </div>

    <div id="empty" class="empty hidden">
      Nessun risultato. Prova a cambiare filtro o ricerca.
    </div>
  </main>

  <footer class="footer">
    <span class="dot">•</span>
    <span class="dot">•</span>

    <span>Fatto con amore e un po’ di polvere sui dischi.</span>
  </footer>

  <script src="/app.js?v=9" onload="window.__AA_DEBUG__ && __AA_DEBUG__('DEBUG: tag app.js onload ✅')" onerror="window.__AA_DEBUG__ && __AA_DEBUG__('DEBUG: tag app.js onerror ❌')"></script>

<script>
  window.__AA_DEBUG__ = (msg) => {
    const el = document.getElementById('debug');
    if (el) el.textContent += msg + "\n";
  };
  __AA_DEBUG__('DEBUG: index.html caricato ✅');
  window.addEventListener('error', (e) => __AA_DEBUG__('JS ERROR: ' + (e.message || e.error)));
  window.addEventListener('unhandledrejection', (e) => __AA_DEBUG__('PROMISE ERROR: ' + (e.reason?.message || e.reason)));
</script>

</body>
</html>